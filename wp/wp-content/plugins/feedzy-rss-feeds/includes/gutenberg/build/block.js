!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=294)}({20:function(e,t,r){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=a.apply(null,n);s&&e.push(s)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var i in n)r.call(n,i)&&n[i]&&e.push(i)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},244:function(e,t,r){"use strict";const n=r(286),a=r(287),o=r(288),s=r(289);function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function u(e,t){return t.decode?a(e):e}function p(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function c(e){const t=(e=p(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const a="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!a&&u(r,e).includes(e.arrayFormatSeparator);r=o?u(r,e):r;const s=a||o?r.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===r?r:u(r,e);n[t]=s};case"bracket-separator":return(t,r,n)=>{const a=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!a)return void(n[t]=r?u(r,e):r);const o=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>u(t,e));void 0!==n[t]?n[t]=[].concat(n[t],o):n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const a of e.split("&")){if(""===a)continue;let[e,s]=o(t.decode?a.replace(/\+/g," "):a,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:u(s,t),r(u(e,t),s,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=d(r[e],t);else n[e]=d(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=c,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const a=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),"[",a,"]"].join("")]:[...r,[l(t,e),"[",l(a,e),"]=",l(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),"[]"].join("")]:[...r,[l(t,e),"[]=",l(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:(a=null===a?"":a,0===n.length?[[l(r,e),t,l(a,e)].join("")]:[[n,l(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,l(t,e)]:[...r,[l(t,e),"=",l(n,e)].join("")]}}(t),a={};for(const t of Object.keys(e))r(t)||(a[t]=e[t]);const o=Object.keys(a);return!1!==t.sort&&o.sort(t.sort),o.map(r=>{const a=e[r];return void 0===a?"":null===a?l(r,t):Array.isArray(a)?0===a.length&&"bracket-separator"===t.arrayFormat?l(r,t)+"[]":a.reduce(n(r),[]).join("&"):l(r,t)+"="+l(a,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:m(c(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:u(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=p(e.url).split("?")[0]||"",a=t.extract(e.url),o=t.parse(a,{sort:!1}),s=Object.assign(o,e.query);let i=t.stringify(s,r);i&&(i="?"+i);let u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(u="#"+l(e.fragmentIdentifier,r)),`${n}${i}${u}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0},n);const{url:a,query:o,fragmentIdentifier:i}=t.parseUrl(e,n);return t.stringifyUrl({url:a,query:s(o,r),fragmentIdentifier:i},n)},t.exclude=(e,r,n)=>{const a=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,a,n)}},286:function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},287:function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function s(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=a.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=s(r[0]);n!==r[0]&&(t[r[0]]=n)}r=a.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),i=0;i<o.length;i++){var l=o[i];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},288:function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},289:function(e,t,r){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),a=Array.isArray(t),o=0;o<n.length;o++){var s=n[o],i=e[s];(a?-1!==t.indexOf(s):t(s,i,e))&&(r[s]=i)}return r}},294:function(e,t,r){"use strict";r.r(t);var n={feeds:{type:"string"},max:{type:"number",default:5},offset:{type:"number",default:0},feed_title:{type:"boolean",default:!0},refresh:{type:"string",default:"12_hours"},sort:{type:"string",default:"default"},target:{type:"string",default:"_blank"},title:{type:"number"},meta:{type:"boolean",default:!0},lazy:{type:"boolean",default:!1},metafields:{type:"string",default:""},multiple_meta:{type:"string",default:""},summary:{type:"boolean",default:!0},summarylength:{type:"number"},keywords_title:{type:"string"},keywords_inc_on:{type:"string",default:"title"},keywords_ban:{type:"string"},keywords_exc_on:{type:"string",default:"title"},thumb:{type:"string",default:"auto"},default:{type:"object"},size:{type:"number",default:150},http:{type:"string"},referral_url:{type:"string"},columns:{type:"number",default:1},template:{type:"string",default:"default"},price:{type:"boolean",default:!0},route:{type:"string",default:"home"},feedData:{type:"object"},categories:{type:"object"},from_datetime:{type:"string"},to_datetime:{type:"string"},itemTitle:{type:"boolean",default:!0},disableStyle:{type:"boolean",default:!1},follow:{type:"string",default:"no"},error_empty:{type:"string",default:""},className:{type:"string",default:""},_dryrun_:{type:"string",default:"no"},_dry_run_tags_:{type:"string",default:""}},a=r(244),o=r.n(a),s=lodash.isEmpty,i=wp.components.BaseControl;var l=(0,wp.compose.withInstanceId)((function(e){var t=e.label,r=e.selected,n=e.help,a=e.instanceId,o=e.onChange,l=e.disabled,u=e.options,p=void 0===u?[]:u,c="inspector-radio-image-control-".concat(a),d=function(e){return o(e.target.value)};return!s(p)&&wp.element.createElement(i,{label:t,id:c,help:n,className:"components-radio-image-control feedzy-template"},wp.element.createElement("div",{className:"components-radio-image-control__container"},p.map((function(e,t){return wp.element.createElement("div",{key:"".concat(c,"-").concat(t),className:"components-radio-image-control__option"},wp.element.createElement("input",{id:"".concat(c,"-").concat(t),className:"components-radio-image-control__input",type:"radio",name:c,value:e.value,onChange:d,checked:e.value===r,"aria-describedby":n?"".concat(c,"__help"):void 0,disabled:l}),wp.element.createElement("label",{htmlFor:"".concat(c,"-").concat(t),title:e.label},wp.element.createElement("img",{src:e.src}),wp.element.createElement("span",{class:"image-clickable"})),wp.element.createElement("span",null,e.label))}))))})),u=r(20),p=r.n(u);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=wp.i18n.__,v=wp.hooks.applyFilters,k=wp.blockEditor||wp.editor,E=k.InspectorControls,z=k.MediaUpload,T=wp.element,C=T.Component,N=T.Fragment,j=wp.components,S=j.BaseControl,O=j.ExternalLink,x=j.PanelBody,F=j.RangeControl,P=j.TextControl,R=j.TextareaControl,A=j.Button,D=j.ToggleControl,L=j.SelectControl,U=j.ResponsiveWrapper,I=j.Dashicon,M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(o,e);var t,r,n,a=h(o);function o(){var e;return d(this,o),(e=a.apply(this,arguments)).state={tab:"content"},e}return t=o,(r=[{key:"render",value:function(){var e=this,t="",r=v("feedzy_widget_refresh_feed",[{label:w("1 Hour"),value:"1_hours"},{label:w("2 Hours"),value:"3_hours"},{label:w("12 Hours"),value:"12_hours"},{label:w("1 Day"),value:"1_days"},{label:w("3 Days"),value:"3_days"},{label:w("15 Days"),value:"15_days"}]);return"https"===this.props.attributes.http&&(t+=w("Please verify that the images exist on HTTPS.")),wp.element.createElement(N,null,wp.element.createElement(E,{key:"inspector"},wp.element.createElement(x,{className:"fz-section-header-panel"},wp.element.createElement(A,{className:p()("header-tab",{"is-selected":"content"===this.state.tab}),onClick:function(){return e.setState({tab:"content"})}},wp.element.createElement("span",null,wp.element.createElement(I,{icon:"editor-table"}),w("Content"))),wp.element.createElement(A,{className:p()("header-tab",{"is-selected":"style"===this.state.tab}),onClick:function(){return e.setState({tab:"style"})}},wp.element.createElement("span",null,wp.element.createElement(I,{icon:"admin-customizer"}),w("Style"))),wp.element.createElement(A,{className:p()("header-tab",{"is-selected":"advanced"===this.state.tab}),onClick:function(){return e.setState({tab:"advanced"})}},wp.element.createElement("span",null,wp.element.createElement(I,{icon:"admin-generic"}),w("Advanced")))),"content"===this.state.tab&&wp.element.createElement(N,null,wp.element.createElement(x,{title:w("Feed Source"),initialOpen:!0},0!==this.props.attributes.status&&!feedzyjs.isPro&&[wp.element.createElement("div",{className:"fz-upgrade-alert"},wp.element.createElement("strong",null,w("NEW!")," "),w("Enable Amazon Product Advertising feeds to generate affiliate revenue by "),wp.element.createElement(O,{href:"https://themeisle.com/plugins/feedzy-rss-feeds/upgrade/?utm_source=wpadmin&utm_medium=blockeditor&utm_campaign=amazonproductadvertising&utm_content=feedzy-rss-feeds"},w("upgrading to Feedzy Pro.")),wp.element.createElement(I,{icon:"no-alt",onClick:function(e){e.target.parentNode.style.display="none"}}))],0!==this.props.attributes.status&&[wp.element.createElement(P,{label:w("Feed Source"),className:"feedzy-source",value:this.props.attributes.feeds,onChange:this.props.edit.onChangeFeed}),wp.element.createElement(A,{isLarge:!0,isPrimary:!0,type:"submit",onClick:this.props.edit.loadFeed,className:"loadFeed"},w("Load Feed")),wp.element.createElement(R,{label:w("Message to show when feed is empty"),value:this.props.attributes.error_empty,onChange:this.props.edit.onErrorEmpty})],"fetched"===this.props.state.route&&[wp.element.createElement(F,{label:w("Number of Items"),value:Number(this.props.attributes.max)||5,onChange:this.props.edit.onChangeMax,min:1,max:this.props.attributes.feedData.items.length||10,beforeIcon:"sort",className:"feedzy-max"}),wp.element.createElement(L,{label:w("Sorting Order"),value:this.props.attributes.sort,options:[{label:w("Default"),value:"default"},{label:w("Date Descending"),value:"date_desc"},{label:w("Date Ascending"),value:"date_asc"},{label:w("Title Descending"),value:"title_desc"},{label:w("Title Ascending"),value:"title_asc"}],onChange:this.props.edit.onSort,className:"feedzy-sort"}),wp.element.createElement(L,{label:w("Feed Caching Time"),value:this.props.attributes.refresh,options:r,onChange:this.props.edit.onRefresh,className:"feedzy-refresh"})]),wp.element.createElement(x,{title:w("Item Options"),initialOpen:!1,className:"feedzy-item-options"},wp.element.createElement(L,{label:w("Open Links In"),value:this.props.attributes.target,options:[{label:w("New Tab"),value:"_blank"},{label:w("Same Tab"),value:"_self"}],onChange:this.props.edit.onTarget}),wp.element.createElement(L,{label:w('Make this link a "nofollow" link?'),value:this.props.attributes.follow,options:[{label:w("No"),value:"no"},{label:w("Yes"),value:"yes"}],onChange:this.props.edit.onLinkNoFollow}),wp.element.createElement(D,{label:w("Display item Title"),checked:!!this.props.attributes.itemTitle,onChange:this.props.edit.onToggleItemTitle,className:"feedzy-summary"}),this.props.attributes.itemTitle&&wp.element.createElement(P,{label:w("Title Character Limit"),help:w("Leave empty to show full title. A value of 0 will remove the title."),type:"number",value:this.props.attributes.title,onChange:this.props.edit.onTitle,className:"feedzy-title-length"}),wp.element.createElement(D,{label:w("Display post description?"),checked:!!this.props.attributes.summary,onChange:this.props.edit.onToggleSummary,className:"feedzy-summary"}),this.props.attributes.summary&&wp.element.createElement(P,{label:w("Description Character Limit"),help:w("Leave empty to show full description."),type:"number",value:this.props.attributes.summarylength,onChange:this.props.edit.onSummaryLength,className:"feedzy-summary-length",min:0})),wp.element.createElement(x,{title:[w("Filter items"),!feedzyjs.isPro&&wp.element.createElement("span",{className:"fz-pro-label"},"Pro")],initialOpen:!1,className:feedzyjs.isPro?"feedzy-item-filter":"feedzy-item-filter fz-locked"},!feedzyjs.isPro&&wp.element.createElement("div",{className:"fz-upsell-notice"},w("Unlock this feature and more advanced options with")," ",wp.element.createElement(O,{href:"https://themeisle.com/plugins/feedzy-rss-feeds/upgrade/?utm_source=wpadmin&utm_medium=blockeditor&utm_campaign=keywordsfilter&utm_content=feedzy-rss-feeds"},w("Feedzy Pro"))),wp.element.createElement(P,{label:w("Only display if selected field contains:"),help:w("Use comma(,) and plus(+) keyword"),value:this.props.attributes.keywords_title,onChange:this.props.edit.onKeywordsTitle,className:"feedzy-include"}),wp.element.createElement(L,{label:w("Select a field if you want to inc keyword."),value:this.props.attributes.keywords_inc_on,options:[{label:w("Title"),value:"title"},{label:w("Author"),value:"author"},{label:w("Description"),value:"description"}],onChange:this.props.edit.onKeywordsIncludeOn}),wp.element.createElement(P,{label:w("Exclude if selected field contains:"),help:w("Use comma(,) and plus(+) keyword"),value:this.props.attributes.keywords_ban,onChange:this.props.edit.onKeywordsBan,className:"feedzy-ban"}),wp.element.createElement(L,{label:w("Select a field if you want to exc keyword."),value:this.props.attributes.keywords_exc_on,options:[{label:w("Title"),value:"title"},{label:w("Author"),value:"author"},{label:w("Description"),value:"description"}],onChange:this.props.edit.onKeywordsExcludeOn}),wp.element.createElement("p",{className:"fz-main-label"},w("Filter feed item by date range.")),wp.element.createElement(P,{type:"datetime-local",label:w("From:"),value:this.props.attributes.from_datetime,onChange:this.props.edit.onFromDateTime}),wp.element.createElement(P,{type:"datetime-local",label:w("To:"),value:this.props.attributes.to_datetime,onChange:this.props.edit.onToDateTime}))),"fetched"===this.props.state.route&&"style"===this.state.tab&&[wp.element.createElement(N,null,wp.element.createElement(x,{title:w("Item Image Options"),initialOpen:!1,className:"feedzy-image-options"},wp.element.createElement(L,{label:w("Display first image if available?"),value:this.props.attributes.thumb,options:[{label:w("Yes (without  a fallback image)"),value:"auto"},{label:w("Yes (with a fallback image)"),value:"yes"},{label:w("No"),value:"no"}],onChange:this.props.edit.onThumb,className:"feedzy-thumb"}),"no"!==this.props.attributes.thumb&&["auto"!==this.props.attributes.thumb&&wp.element.createElement("div",{className:"feedzy-blocks-base-control"},wp.element.createElement("label",{className:"blocks-base-control__label",for:"inspector-media-upload"},w("Fallback image if no image is found.")),wp.element.createElement(z,{type:"image",id:"inspector-media-upload",value:this.props.attributes.default,onSelect:this.props.edit.onDefault,render:function(t){var r=t.open;return[void 0!==e.props.attributes.default&&[wp.element.createElement(U,{naturalWidth:e.props.attributes.default.width,naturalHeight:e.props.attributes.default.height},wp.element.createElement("img",{src:e.props.attributes.default.url,alt:w("Featured image")})),wp.element.createElement(A,{isLarge:!0,isSecondary:!0,onClick:function(){return e.props.setAttributes({default:void 0})},style:{marginTop:"10px"}},w("Remove Image"))],wp.element.createElement(A,{isLarge:!0,isPrimary:!0,onClick:r,style:{marginTop:"10px"},className:void 0===e.props.attributes.default&&"feedzy_image_upload"},w("Upload Image"))]}})),wp.element.createElement(P,{label:w("Thumbnails dimension."),type:"number",value:this.props.attributes.size,onChange:this.props.edit.onSize}),wp.element.createElement(L,{label:w("How should we treat HTTP images?"),value:this.props.attributes.http,options:[{label:w("Show with HTTP link"),value:"auto"},{label:w("Force HTTPS"),value:"https"},{label:w("Ignore and show the default image instead"),value:"default"}],onChange:this.props.edit.onHTTP,className:"feedzy-http",help:t})]),wp.element.createElement(x,{title:[w("Feed Layout"),!feedzyjs.isPro&&wp.element.createElement("span",{className:"fz-pro-label"},"Pro")],initialOpen:!1,className:feedzyjs.isPro?"feedzy-layout":"feedzy-layout fz-locked"},!feedzyjs.isPro&&wp.element.createElement("div",{className:"fz-upsell-notice"},w("Unlock this feature and more advanced options with")," ",wp.element.createElement(O,{href:"https://themeisle.com/plugins/feedzy-rss-feeds/upgrade/?utm_source=wpadmin&utm_medium=blockeditor&utm_campaign=layouts&utm_content=feedzy-rss-feeds"},w("Feedzy Pro"))),wp.element.createElement(F,{label:w("Columns"),help:w("How many columns we should use to display the feed items?"),value:this.props.attributes.columns||1,onChange:this.props.edit.onColumns,min:1,max:6,beforeIcon:"sort",allowReset:!0}),wp.element.createElement(l,{label:w("Template"),selected:this.props.attributes.template,options:[{label:w("Default"),src:feedzyjs.imagepath+"feedzy-default-template.png",value:"default"},{label:w("Round"),src:feedzyjs.imagepath+"feedzy-style1-template.png",value:"style1"},{label:w("Cards"),src:feedzyjs.imagepath+"feedzy-style2-template.png",value:"style2"}],onChange:this.props.edit.onTemplate})),wp.element.createElement(x,{title:w("Disable default style"),initialOpen:!1,className:"feedzy-disable-style"},wp.element.createElement(D,{label:w("Disable default style?"),checked:!!this.props.attributes.disableStyle,onChange:this.props.edit.onToggleDisableStyle,className:"feedzy-summary",help:w("If disabled, it will be considered the global setting.")})))],"fetched"===this.props.state.route&&"advanced"===this.state.tab&&[wp.element.createElement(N,null,wp.element.createElement(x,{title:w("Feed Items Custom Options"),className:"feedzy-advanced-options",initialOpen:!1},wp.element.createElement(S,null,wp.element.createElement(P,{label:feedzyjs.isPro?w("Should we display additional meta fields out of author, date, time or categories? (comma-separated list, in order of display)."):w("Should we display additional meta fields out of author, date or time? (comma-separated list, in order of display)."),help:w('Leave empty to display all and "no" to display nothing.'),placeholder:feedzyjs.isPro?w("(eg: author, date, time, tz=local, categories)"):w("(eg: author, date, time, tz=local)"),value:this.props.attributes.metafields,onChange:this.props.edit.onChangeMeta,className:"feedzy-meta"}),wp.element.createElement(P,{label:w("When using multiple sources, should we display additional meta fields? - source (comma-separated list)."),placeholder:w("(eg: source)"),value:this.props.attributes.multiple_meta,onChange:this.props.edit.onChangeMultipleMeta,className:"feedzy-multiple-meta"}),wp.element.createElement(O,{href:"https://docs.themeisle.com/article/1089-how-to-display-author-date-or-time-from-the-feed"},w("You can find more info about available meta field values here."))),wp.element.createElement(D,{label:w("Display price if available?"),help:this.props.attributes.price&&"default"===this.props.attributes.template?w("Choose a different template for this to work."):null,checked:!!this.props.attributes.price,onChange:this.props.edit.onTogglePrice,className:feedzyjs.isPro?"feedzy-pro-price":"feedzy-pro-price fz-locked"}),null!==this.props.attributes.feedData.channel&&wp.element.createElement(D,{label:w("Display feed title?"),checked:!!this.props.attributes.feed_title,onChange:this.props.edit.onToggleFeedTitle,className:"feedzy-title"}),wp.element.createElement(F,{label:w("Ignore first N items"),value:Number(this.props.attributes.offset)||0,onChange:this.props.edit.onChangeOffset,min:0,max:this.props.attributes.feedData.items.length,beforeIcon:"sort",className:"feedzy-offset"}),wp.element.createElement(D,{label:w("Lazy load feed?"),checked:!!this.props.attributes.lazy,onChange:this.props.edit.onToggleLazy,className:"feedzy-lazy",help:w("Only on the front end.")})),wp.element.createElement(x,{title:[w("Referral URL"),!feedzyjs.isPro&&wp.element.createElement("span",{className:"fz-pro-label"},"Pro")],initialOpen:!1,className:feedzyjs.isPro?"feedzy-pro-options":"feedzy-pro-options fz-locked"},!feedzyjs.isPro&&wp.element.createElement("div",{className:"fz-upsell-notice"},w("Unlock this feature and more advanced options with")," ",wp.element.createElement(O,{href:"https://themeisle.com/plugins/feedzy-rss-feeds/upgrade/?utm_source=wpadmin&utm_medium=blockeditor&utm_campaign=refferal&utm_content=feedzy-rss-feeds"},w("Feedzy Pro"))),wp.element.createElement(P,{label:w("Referral URL parameters."),help:w('Without ("?")'),placeholder:_("(eg. promo_code=feedzy_is_awesome)"),value:this.props.attributes.referral_url,onChange:this.props.edit.onReferralURL})),wp.element.createElement(x,{title:w("Additional options"),initialOpen:!1,className:"feedzy-additional-options"},wp.element.createElement(P,{label:w("Wrap custom class"),value:this.props.attributes.className,onChange:this.props.edit.onclassName}),wp.element.createElement(L,{label:w("Dry run?"),value:this.props.attributes._dryrun_,options:[{label:w("No"),value:"no"},{label:w("Yes"),value:"yes"}],onChange:this.props.edit.onDryRun}),wp.element.createElement(P,{label:w("Dry run tags"),value:this.props.attributes._dry_run_tags_,onChange:this.props.edit.onDryRunTags})))]))}}])&&m(t.prototype,r),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(C),K=function(e){var t=document.createElement("div");return t.innerHTML=e,void 0!==t.innerText?t.innerText:t.textContent},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="",r=[];return""!==e&&e.replace(/[^a-zA-Z]/g,"").length<=500&&(e.split(",").forEach((function(e){""!==(e=e.trim())&&(e=e.split("+").map((function(e){return"(?=.*"+(e=e.trim())+")"})),r.push(e.join("")))})),t="^"+(t=r.join("|"))+".*$",t=new RegExp(t,"i")),t};function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Y(e,t,r,n,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function $(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){Y(o,n,a,s,i,"next",e)}function i(e){Y(o,n,a,s,i,"throw",e)}s(void 0)}))}}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function q(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H(t)?t:String(t)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ee(e);if(t){var a=ee(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return G(this,r)}}function G(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=wp.i18n.__,re=wp,ne=(re.apiFetch,re.apiRequest),ae=wp.element,oe=ae.Component,se=(ae.Fragment,wp.components),ie=se.ExternalLink,le=se.Placeholder,ue=se.TextControl,pe=se.Button,ce=se.Spinner,de=(wp.date.date,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(l,e);var t,r,n,a,s,i=Z(l);function l(){var e;return W(this,l),(e=i.apply(this,arguments)).loadFeed=e.loadFeed.bind(J(e)),e.loadCategories=e.loadCategories.bind(J(e)),e.metaExists=e.metaExists.bind(J(e)),e.multipleMetaExists=e.multipleMetaExists.bind(J(e)),e.getImageURL=e.getImageURL.bind(J(e)),e.getValidateURL=e.getValidateURL.bind(J(e)),e.onChangeFeed=e.onChangeFeed.bind(J(e)),e.onChangeMax=e.onChangeMax.bind(J(e)),e.onChangeOffset=e.onChangeOffset.bind(J(e)),e.onToggleFeedTitle=e.onToggleFeedTitle.bind(J(e)),e.onRefresh=e.onRefresh.bind(J(e)),e.onSort=e.onSort.bind(J(e)),e.onTarget=e.onTarget.bind(J(e)),e.onTitle=e.onTitle.bind(J(e)),e.onChangeMeta=e.onChangeMeta.bind(J(e)),e.onChangeMultipleMeta=e.onChangeMultipleMeta.bind(J(e)),e.onToggleSummary=e.onToggleSummary.bind(J(e)),e.onToggleLazy=e.onToggleLazy.bind(J(e)),e.onSummaryLength=e.onSummaryLength.bind(J(e)),e.onKeywordsTitle=e.onKeywordsTitle.bind(J(e)),e.onKeywordsBan=e.onKeywordsBan.bind(J(e)),e.onThumb=e.onThumb.bind(J(e)),e.onDefault=e.onDefault.bind(J(e)),e.onSize=e.onSize.bind(J(e)),e.onHTTP=e.onHTTP.bind(J(e)),e.onReferralURL=e.onReferralURL.bind(J(e)),e.onColumns=e.onColumns.bind(J(e)),e.onTemplate=e.onTemplate.bind(J(e)),e.onTogglePrice=e.onTogglePrice.bind(J(e)),e.onKeywordsIncludeOn=e.onKeywordsIncludeOn.bind(J(e)),e.onKeywordsExcludeOn=e.onKeywordsExcludeOn.bind(J(e)),e.onFromDateTime=e.onFromDateTime.bind(J(e)),e.onToDateTime=e.onToDateTime.bind(J(e)),e.feedzyCategoriesList=e.feedzyCategoriesList.bind(J(e)),e.onToggleItemTitle=e.onToggleItemTitle.bind(J(e)),e.onToggleDisableStyle=e.onToggleDisableStyle.bind(J(e)),e.handleKeyUp=e.handleKeyUp.bind(J(e)),e.handleKeyUp=e.handleKeyUp.bind(J(e)),e.onLinkNoFollow=e.onLinkNoFollow.bind(J(e)),e.onErrorEmpty=e.onErrorEmpty.bind(J(e)),e.onclassName=e.onclassName.bind(J(e)),e.onDryRun=e.onDryRun.bind(J(e)),e.onDryRunTags=e.onDryRunTags.bind(J(e)),e.state={route:e.props.attributes.route,loading:!1,error:!1},e}return t=l,(r=[{key:"componentDidMount",value:(s=$(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadFeed(),void 0===this.props.attributes.categories&&(this.props.attributes.meta||this.props.setAttributes({meta:!0,metafields:"no"}),setTimeout((function(){t.loadCategories()})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"componentDidUpdate",value:(a=$(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"reload"===this.state.route&&this.loadFeed();case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"loadFeed",value:function(){var e=this,t=this.props.attributes.feeds;if(void 0!==t){if(function(e,t){if(void 0===t)return!1;for(var r=!1,n=0;n<t.length;n++)if(t[n]===e){r=!0;break}return r}(t,this.props.attributes.categories)){var r=t;t=o.a.stringify({category:r},{arrayFormat:"bracket"})}else t=t.replace(/\s/g,"").split(",").filter((function(e){return""!==e})),t=o.a.stringify({url:t},{arrayFormat:"bracket"});this.setState({route:"home",loading:!0}),ne({path:"/feedzy/v1/feed?".concat(t),method:"POST",data:this.props.attributes}).then((function(t){return e.unmounting?t:t.error?(e.setState({route:"home",loading:!1,error:!0}),t):(e.props.setAttributes({feedData:t}),e.setState({route:"fetched",loading:!1}),t)})).fail((function(t){return e.setState({route:"home",loading:!1,error:!0}),t}))}}},{key:"loadCategories",value:function(){var e=this;ne({path:"/wp/v2/feedzy_categories?per_page=100"}).then((function(t){if(e.unmounting)return t;var r=0,n=[];t.forEach((function(e){n[r]=e.slug,r+=1}));var a=e;a.props.setAttributes({categories:n});var o=jQuery('iframe[name="editor-canvas"]'),s=jQuery(".feedzy-source input");o.length>0&&(s=jQuery(".feedzy-source input",o.contents())),s.autocomplete({disabled:!1}).autocomplete({classes:{"ui-autocomplete":"feedzy-ui-autocomplete"},source:n,minLength:0,select:function(e,t){a.props.setAttributes({feeds:t.item.label})}})})).fail((function(e){return e}))}},{key:"metaExists",value:function(e){return 0<=this.props.attributes.metafields.replace(/\s/g,"").split(",").indexOf(e)||""===this.props.attributes.metafields}},{key:"multipleMetaExists",value:function(e){return 0<=this.props.attributes.multiple_meta.replace(/\s/g,"").split(",").indexOf(e)||""===this.props.attributes.multiple_meta}},{key:"getImageURL",value:function(e,t){var r=e.thumbnail?e.thumbnail:this.props.attributes.default?this.props.attributes.default.url:feedzyjs.imagepath+"feedzy.svg";switch(this.props.attributes.http){case"default":-1===r.indexOf("https")&&0===r.indexOf("http")&&(r=this.props.attributes.default?this.props.attributes.default.url:feedzyjs.imagepath+"feedzy.svg");break;case"https":r=r.replace(/http:/g,"https:")}return t&&(r='url("'+r+'")'),r}},{key:"onChangeFeed",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").set("feedzy-url-feed",{feature:"block-url-feed",featureValue:e}),this.props.setAttributes({feeds:e})}},{key:"onChangeMax",value:function(e){this.props.setAttributes({max:e?Number(e):5})}},{key:"onChangeOffset",value:function(e){this.props.setAttributes({offset:Number(e)})}},{key:"onToggleFeedTitle",value:function(e){this.props.setAttributes({feed_title:!this.props.attributes.feed_title})}},{key:"onRefresh",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").set("feedzy-caching",{feature:"block-caching-refresh",featureValue:e}),this.props.setAttributes({refresh:e})}},{key:"onSort",value:function(e){this.props.setAttributes({sort:e})}},{key:"onTarget",value:function(e){this.props.setAttributes({target:e})}},{key:"onTitle",value:function(e){""!==e&&(e=Number(e))<0&&(e=0),this.props.setAttributes({title:e})}},{key:"onChangeMeta",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").set("feedzy-meta",{feature:"block-meta-fields",featureValue:e}),this.props.setAttributes({metafields:e})}},{key:"onChangeMultipleMeta",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").set("feedzy-multiple-meta",{feature:"block-multiple-meta-fields",featureValue:e}),this.props.setAttributes({multiple_meta:e})}},{key:"onToggleSummary",value:function(e){this.props.setAttributes({summary:!this.props.attributes.summary})}},{key:"onToggleLazy",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").set("feedzy-lazy-loading",{feature:"block-lazy-loading-feed",featureValue:e}),this.props.setAttributes({lazy:!this.props.attributes.lazy})}},{key:"onSummaryLength",value:function(e){this.props.setAttributes({summarylength:Number(e)})}},{key:"onKeywordsTitle",value:function(e){this.props.setAttributes({keywords_title:e})}},{key:"onKeywordsBan",value:function(e){this.props.setAttributes({keywords_ban:e})}},{key:"onThumb",value:function(e){this.props.setAttributes({thumb:e})}},{key:"onDefault",value:function(e){this.props.setAttributes({default:e}),this.setState({route:"reload"})}},{key:"onSize",value:function(e){this.props.setAttributes({size:e?Number(e):150})}},{key:"onHTTP",value:function(e){this.props.setAttributes({http:e}),this.setState({route:"reload"})}},{key:"onReferralURL",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").add({feature:"block-referral-url"}),this.props.setAttributes({referral_url:e})}},{key:"onColumns",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").set("feedzy-columns",{feature:"block-columns",featureValue:e}),this.props.setAttributes({columns:e})}},{key:"onTemplate",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").set("feedzy-template",{feature:"block-template",featureValue:e}),this.props.setAttributes({template:e})}},{key:"onTogglePrice",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").set("feedzy-price",{feature:"block-price",featureValue:!this.props.attributes.price}),this.props.setAttributes({price:!this.props.attributes.price})}},{key:"onKeywordsIncludeOn",value:function(e){this.props.setAttributes({keywords_inc_on:e})}},{key:"onKeywordsExcludeOn",value:function(e){this.props.setAttributes({keywords_exc_on:e})}},{key:"onFromDateTime",value:function(e){this.props.setAttributes({from_datetime:e})}},{key:"onToDateTime",value:function(e){this.props.setAttributes({to_datetime:e})}},{key:"feedzyCategoriesList",value:function(e){var t=jQuery('iframe[name="editor-canvas"]'),r=jQuery(".feedzy-source input");t.length>0&&(r=jQuery(".feedzy-source input",t.contents())),r.autocomplete({disabled:!1}).autocomplete("search","")}},{key:"getValidateURL",value:function(){var e="https://validator.w3.org/feed/";return this.props.attributes.feeds&&(e+="check.cgi?url="+this.props.attributes.feeds),e}},{key:"onToggleItemTitle",value:function(e){this.props.setAttributes({itemTitle:!this.props.attributes.itemTitle})}},{key:"onToggleDisableStyle",value:function(e){this.props.setAttributes({disableStyle:!this.props.attributes.disableStyle})}},{key:"onLinkNoFollow",value:function(e){this.props.setAttributes({follow:e})}},{key:"onErrorEmpty",value:function(e){this.props.setAttributes({error_empty:e})}},{key:"onclassName",value:function(e){this.props.setAttributes({className:e})}},{key:"onDryRun",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").add({feature:"block-dry-run"}),this.props.setAttributes({_dryrun_:e})}},{key:"onDryRunTags",value:function(e){var t;null===(t=window.tiTrk)||void 0===t||t.with("feedzy").set("feedzy-dry-run-tags",{feature:"block-dry-run-tags",featureValue:e}),this.props.setAttributes({_dry_run_tags_:e})}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.loadFeed()}},{key:"render",value:function(){var e,t,r,n,a,o,s,i,l,u,p=this;return["fetched"===this.state.route&&wp.element.createElement(M,V({edit:this,state:this.state},this.props)),"home"===this.state.route&&wp.element.createElement("div",{className:this.props.className},wp.element.createElement(le,{key:"placeholder",icon:"rss",label:te("Feedzy RSS Feeds")},this.state.loading?wp.element.createElement("div",{key:"loading",className:"wp-block-embed is-loading"},wp.element.createElement(ce,null),wp.element.createElement("p",null,te("Fetching..."))):[wp.element.createElement("div",{className:"feedzy-source-wrap"},wp.element.createElement(ue,{type:"url",className:"feedzy-source",placeholder:te("Enter URL or category of your feed here..."),onChange:this.onChangeFeed,onKeyUp:this.handleKeyUp,value:this.props.attributes.feeds}),wp.element.createElement("span",{className:"dashicons dashicons-arrow-down-alt2",onClick:this.feedzyCategoriesList})),wp.element.createElement(pe,{isLarge:!0,isPrimary:!0,type:"submit",onClick:this.loadFeed},te("Load Feed")),wp.element.createElement(ie,{href:this.getValidateURL(),title:te("Validate Feed ")},te("Validate ")),!feedzyjs.isPro&&wp.element.createElement("div",{className:"fz-source-upgrade-alert"},wp.element.createElement("strong",null,te("NEW!")," "),te("Enable Amazon Product Advertising feeds to generate affiliate revenue by "),wp.element.createElement(ie,{href:"https://themeisle.com/plugins/feedzy-rss-feeds/upgrade/?utm_source=wpadmin&utm_medium=blockeditor&utm_campaign=keywordsfilter&utm_content=feedzy-rss-feeds"},te("upgrading to Feedzy Pro."))),this.state.error&&wp.element.createElement("div",null,te("Feed URL is invalid. Invalid feeds will NOT display items.")),wp.element.createElement("p",null,te("Enter the full URL of the feed source you wish to display here, or the name of a category you've created. Also you can add multiple URLs just separate them with a comma. You can manage your categories feed from")," ",wp.element.createElement("a",{href:"edit.php?post_type=feedzy_categories",title:te("feedzy categories "),target:"_blank"},te("here ")))])),!("fetched"!==this.state.route||void 0===this.props.attributes.feedData)&&wp.element.createElement("div",{className:"feedzy-rss"},this.props.attributes.feed_title&&null!==this.props.attributes.feedData.channel&&wp.element.createElement("div",{className:"rss_header"},wp.element.createElement("h2",null,wp.element.createElement("a",{className:"rss_title"},K(this.props.attributes.feedData.channel.title)),wp.element.createElement("span",{className:"rss_description"}," "+K(this.props.attributes.feedData.channel.description)))),wp.element.createElement("ul",{className:"feedzy-".concat(this.props.attributes.template)},(e=this.props.attributes.feedData.items,t=this.props.attributes.sort,r=B(this.props.attributes.keywords_title),n=B(this.props.attributes.keywords_ban),a=this.props.attributes.max,o=this.props.attributes.offset,s=this.props.attributes.keywords_inc_on,i=this.props.attributes.keywords_exc_on,l=this.props.attributes.from_datetime,u=this.props.attributes.to_datetime,s="author"===s?"creator":s,i="author"===i?"creator":i,l=""!==l&&void 0!==l&&moment(l).format("X"),u=""!==u&&void 0!==u&&moment(u).format("X"),e=Array.from(e).sort((function(e,r){var n,a;return"date_desc"===t||"date_asc"===t?(n=e.pubDate,a=r.pubDate):"title_desc"!==t&&"title_asc"!==t||(n=e.title.toUpperCase(),a=r.title.toUpperCase()),n<a?"date_desc"===t||"title_desc"===t?1:-1:n>a?"date_desc"===t||"title_desc"===t?-1:1:0})).filter((function(e){return!r||r.test(e[s])})).filter((function(e){return!n||!n.test(e[i])})).filter((function(e){var t=e.date+" "+e.time;return t=moment(new Date(t)).format("X"),!l||!u||l<=t&&t<=u})).slice(o,a+o)).map((function(e,t){var r=(e.date||"")+" "+(e.time||"")+" UTC +0000",n=K(e.date)||"",a=K(e.time)||"",o=K(e.categories)||"";if(p.metaExists("tz=local")){var s=new Date(r);s=s.toUTCString(),n=moment.utc(s).format("MMMM D, YYYY"),a=moment.utc(s).format("h:mm A")}var i=e.creator&&p.metaExists("author")?e.creator:"";""!==p.props.attributes.multiple_meta&&"no"!==p.props.attributes.multiple_meta&&((p.multipleMetaExists("source")||p.multipleMetaExists("yes"))&&""!==i&&""!==e.source?i=i+" ("+e.source+")":(p.multipleMetaExists("source")||p.multipleMetaExists("yes"))&&""!==e.source&&(i=e.source)),""===e.thumbnail&&"auto"===p.props.attributes.thumb&&(e.thumbnail=e.default_img);var l=new Object;return l.author=te("by")+" "+i,l.date=te("on")+" "+K(n),l.time=te("at")+" "+K(a),l.categories=te("in")+" "+K(o),wp.element.createElement("li",{key:t,style:{padding:"15px 0 25px"},className:"rss_item feedzy-rss-col-".concat(p.props.attributes.columns)},(e.thumbnail&&"auto"===p.props.attributes.thumb||"yes"===p.props.attributes.thumb)&&wp.element.createElement("div",{className:"rss_image",style:{width:p.props.attributes.size+"px",height:p.props.attributes.size+"px"}},wp.element.createElement("a",{title:K(e.title),style:{width:p.props.attributes.size+"px",height:p.props.attributes.size+"px"}},wp.element.createElement("span",{className:"fetched",style:{width:p.props.attributes.size+"px",height:p.props.attributes.size+"px",backgroundImage:p.getImageURL(e,!0)},title:K(e.title)}))),wp.element.createElement("div",{className:"rss_content_wrap"},p.props.attributes.itemTitle&&0!==p.props.attributes.title?wp.element.createElement("span",{className:"title"},wp.element.createElement("a",null,p.props.attributes.title&&K(e.title).length>p.props.attributes.title?K(e.title).substring(0,p.props.attributes.title)+"...":K(e.title))):"",wp.element.createElement("div",{className:"rss_content"},"no"!==p.props.attributes.metafields&&wp.element.createElement("small",{className:"meta"},function(e,t){var r="";""===t&&(t="author, date, time");for(var n=t.replace(/\s/g,"").split(","),a=0;a<n.length;a++)void 0!==e[n[a]]&&(r=r+" "+e[n[a]]);return r}(l,p.props.attributes.metafields)),p.props.attributes.summary&&wp.element.createElement("p",{className:"description"},p.props.attributes.summarylength&&K(e.description).length>p.props.attributes.summarylength?K(e.description).substring(0,p.props.attributes.summarylength)+" [...]":K(e.description)),feedzyjs.isPro&&e.media&&e.media.src&&wp.element.createElement("audio",{controls:!0,controlsList:"nodownload"},wp.element.createElement("source",{src:e.media.src,type:e.media.type}),te("Your browser does not support the audio element. But you can check this for the original link: "),wp.element.createElement("a",{href:e.media.src},e.media.src)),feedzyjs.isPro&&p.props.attributes.price&&e.price&&"default"!==p.props.attributes.template&&wp.element.createElement("div",{className:"price-wrap"},wp.element.createElement("a",null,wp.element.createElement("button",{className:"price"},e.price))))))}))))]}}])&&Q(t.prototype,r),n&&Q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(oe)),me=wp.i18n.__,fe=wp.blocks.registerBlockType;t.default=fe("feedzy-rss-feeds/feedzy-block",{title:me("Feedzy RSS Feeds"),category:"common",icon:"rss",keywords:[me("Feedzy RSS Feeds"),me("RSS"),me("Feeds")],supports:{html:!1},attributes:n,edit:de,save:function(){return null}})}});